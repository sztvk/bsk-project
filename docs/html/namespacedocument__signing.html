<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BSK-project: document_signing Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BSK-project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacedocument__signing.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">document_signing Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aad90ceb765c8f663941c3499a952cf5d" id="r_aad90ceb765c8f663941c3499a952cf5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad90ceb765c8f663941c3499a952cf5d">decrypt_private_key</a> (encrypted_key_path, pin)</td></tr>
<tr class="separator:aad90ceb765c8f663941c3499a952cf5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9b8091976ddcfc1086bc715ac397d7" id="r_ada9b8091976ddcfc1086bc715ac397d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada9b8091976ddcfc1086bc715ac397d7">sign_pdf</a> (usb_path, pdf_path, pin)</td></tr>
<tr class="separator:ada9b8091976ddcfc1086bc715ac397d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a87af5737ad20d9a564a08654cf5a61d9" id="r_a87af5737ad20d9a564a08654cf5a61d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87af5737ad20d9a564a08654cf5a61d9">RANDOM_BYTES_NUMBER</a> = 16</td></tr>
<tr class="separator:a87af5737ad20d9a564a08654cf5a61d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aad90ceb765c8f663941c3499a952cf5d" name="aad90ceb765c8f663941c3499a952cf5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad90ceb765c8f663941c3499a952cf5d">&#9670;&#160;</a></span>decrypt_private_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">document_signing.decrypt_private_key </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>encrypted_key_path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decrypts a private key that has been encrypted using AES encryption with a PIN.

This function reads the encrypted private key from the specified file, extracts the initialization vector (IV)
and encrypted key data, and then decrypts the key using the AES algorithm. The PIN is hashed using SHA256 to
generate the encryption key. If the decryption is successful, the private key is returned.

If the provided PIN is incorrect, a `ValueError` is raised.

Parameters
----------
encrypted_key_path : str
    The path to the file containing the encrypted private key.
pin : str
    The PIN used to decrypt the private key.

Returns
-------
private_key : RSA key
    The decrypted private key.

Raises
------
ValueError
    If the PIN is incorrect or the decryption fails.
</pre> 
</div>
</div>
<a id="ada9b8091976ddcfc1086bc715ac397d7" name="ada9b8091976ddcfc1086bc715ac397d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9b8091976ddcfc1086bc715ac397d7">&#9670;&#160;</a></span>sign_pdf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">document_signing.sign_pdf </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>usb_path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pdf_path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Signs a PDF file using a private key stored on a USB device.

This function first locates the encrypted private key on the USB device, decrypts it using the provided PIN,
and then signs the specified PDF file. The signed PDF file is saved at a location chosen by the user.

If the PDF path or the private key cannot be found, appropriate error messages are returned.

Parameters
----------
usb_path : str
    The path to the USB device where the private key is stored.
pdf_path : str
    The path to the PDF file to be signed.
pin : str
    The PIN used to decrypt the private key.

Returns
-------
str
    A message indicating the result of the signing operation. This can be a success message or an error message.

Raises
------
FileNotFoundError
    If the encrypted private key is not found on the USB device.
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a87af5737ad20d9a564a08654cf5a61d9" name="a87af5737ad20d9a564a08654cf5a61d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87af5737ad20d9a564a08654cf5a61d9">&#9670;&#160;</a></span>RANDOM_BYTES_NUMBER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int document_signing.RANDOM_BYTES_NUMBER = 16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedocument__signing.html">document_signing</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
